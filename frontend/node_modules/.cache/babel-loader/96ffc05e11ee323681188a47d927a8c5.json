{"ast":null,"code":"var _jsxFileName = \"/Users/wakasabbasid/Desktop/IMDB/frontend/src/components/table.js\";\nimport React, { Component } from \"react\";\nimport Loading from \"./loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Table extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: true,\n      page: 0,\n      content: [],\n      nextContent: []\n    };\n\n    this.handlePrevious = async () => {\n      if (!this.state.page || this.state.loading) return;\n      const page = this.state.page - 1;\n      this.setState({\n        loading: true,\n        page: page\n      });\n      this.setState({\n        loading: false,\n        content: await this.getPage(page),\n        nextContent: this.state.content\n      });\n    };\n\n    this.handleNext = async () => {\n      if (!this.state.nextContent.length || this.state.loading) return;\n      const page = this.state.page + 1;\n      this.setState({\n        loading: true,\n        page: page\n      });\n      this.setState({\n        loading: false,\n        content: this.state.nextContent,\n        nextContent: await this.getPage(page + 1)\n      });\n    };\n  }\n\n  /**\n   * This function initializes the table by querying the first 2 pages.\n   */\n  async componentDidMount() {\n    this.setState({\n      loading: false,\n      content: await this.getPage(0),\n      nextContent: await this.getPage(1)\n    });\n  }\n  /**\n   * Dummy function returns a page of the table.\n   * @param page The page number.\n   * @returns An array of objects to populate the table.\n   */\n\n\n  async getPage(page) {\n    const delay = ms => new Promise(res => setTimeout(res, ms));\n\n    await delay(500); // simulated delay\n\n    if (page === 0) return [{\n      n: 0\n    }, {\n      n: 1\n    }, {\n      n: 2\n    }, {\n      n: 3\n    }, {\n      n: 4\n    }, {\n      n: 5\n    }, {\n      n: 6\n    }, {\n      n: 7\n    }, {\n      n: 8\n    }, {\n      n: 9\n    }];else if (page === 1) return [{\n      n: 10\n    }, {\n      n: 11\n    }, {\n      n: 12\n    }, {\n      n: 13\n    }, {\n      n: 14\n    }];else if (page === 2) return [{\n      n: 20\n    }, {\n      n: 21\n    }, {\n      n: 22\n    }, {\n      n: 23\n    }, {\n      n: 24\n    }];\n    return [];\n  }\n  /**\n   * Dummy function.\n   * @return {JSX.Element} The formatted header of the table.\n   */\n\n\n  formatHead() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n  /**\n   * Dummy function populates a row of the table with an object.\n   * @param The object to format.\n   * @return {JSX.Element} The formatted row of the table.\n   */\n\n\n  formatRow(_ref) {\n    let {\n      n\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"align-middle\",\n          children: \"Dummy name \" + n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"align-middle\",\n          children: n + \" feb 2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n  }\n  /**\n   * This function handles the case the previous button was pressed.\n   */\n\n\n  /**\n   * This function renders the table itself unless it is loading.\n   */\n  renderTable() {\n    if (this.state.loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 40\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-striped table-condensed\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: this.formatHead()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: this.state.content.map(this.formatRow)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    const buttonClass = \"btn btn-secondary\";\n    const canPrevious = this.state.page && !this.state.loading ? \"\" : \" disabled\";\n    const canNext = this.state.nextContent.length && !this.state.loading ? \"\" : \" disabled\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-4\",\n      children: [this.renderTable(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center row mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col text-right\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: buttonClass + canPrevious,\n            onClick: this.handlePrevious,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col align-middle\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.state.page\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col text-left\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: buttonClass + canNext,\n            onClick: this.handleNext,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Table;","map":{"version":3,"names":["React","Component","Loading","Table","state","loading","page","content","nextContent","handlePrevious","setState","getPage","handleNext","length","componentDidMount","delay","ms","Promise","res","setTimeout","n","formatHead","formatRow","renderTable","map","render","buttonClass","canPrevious","canNext"],"sources":["/Users/wakasabbasid/Desktop/IMDB/frontend/src/components/table.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport Loading from \"./loading\";\n\nclass Table extends Component {\n    state = {\n        loading: true,\n        page: 0,\n        content: [],\n        nextContent: [],\n    }\n\n    /**\n     * This function initializes the table by querying the first 2 pages.\n     */\n    async componentDidMount() {\n        this.setState({\n            loading: false,\n            content: await this.getPage(0),\n            nextContent: await this.getPage(1),\n        });\n    }\n\n    /**\n     * Dummy function returns a page of the table.\n     * @param page The page number.\n     * @returns An array of objects to populate the table.\n     */\n    async getPage(page) {\n        const delay = ms => new Promise(res => setTimeout(res, ms));\n        await delay(500); // simulated delay\n        if (page === 0) return [{n: 0}, {n: 1}, {n: 2}, {n: 3}, {n: 4}, {n: 5}, {n: 6}, {n: 7}, {n: 8}, {n: 9}];\n        else if (page === 1) return [{n: 10}, {n: 11}, {n: 12}, {n: 13}, {n: 14}];\n        else if (page === 2) return [{n: 20}, {n: 21}, {n: 22}, {n: 23}, {n: 24}];\n        return [];\n    }\n\n    /**\n     * Dummy function.\n     * @return {JSX.Element} The formatted header of the table.\n     */\n    formatHead() {\n        return (\n            <React.Fragment>\n                <th>Name</th>\n                <th>Year</th>\n            </React.Fragment>\n        );\n    }\n\n    /**\n     * Dummy function populates a row of the table with an object.\n     * @param The object to format.\n     * @return {JSX.Element} The formatted row of the table.\n     */\n    formatRow({n}) {\n        return (\n            <React.Fragment>\n                <tr>\n                    <td className=\"align-middle\">{\"Dummy name \" + n}</td>\n                    <td className=\"align-middle\">{n + \" feb 2021\"}</td>\n                </tr>\n            </React.Fragment>\n        );\n    }\n\n    /**\n     * This function handles the case the previous button was pressed.\n     */\n    handlePrevious = async () => {\n        if (!this.state.page || this.state.loading) return;\n        const page = this.state.page - 1;\n        this.setState({\n            loading: true,\n            page: page,\n        });\n        this.setState({\n            loading: false,\n            content: await this.getPage(page),\n            nextContent: this.state.content,\n        });\n    }\n\n    /**\n     * This function handles the case the next button was pressed.\n     */\n    handleNext = async () => {\n        if (!this.state.nextContent.length || this.state.loading) return;\n        const page = this.state.page + 1;\n        this.setState({\n            loading: true,\n            page: page,\n        });\n        this.setState({\n            loading: false,\n            content: this.state.nextContent,\n            nextContent: await this.getPage(page + 1),\n        });\n    }\n\n    /**\n     * This function renders the table itself unless it is loading.\n     */\n    renderTable() {\n        if (this.state.loading) return <Loading />\n        return (\n            <table className=\"table table-striped table-condensed\">\n                <thead><tr>{this.formatHead()}</tr></thead>\n                <tbody>{this.state.content.map(this.formatRow)}</tbody>\n            </table>\n        );\n    }\n\n    render() {\n        const buttonClass = \"btn btn-secondary\";\n        const canPrevious = (this.state.page && !this.state.loading) ? \"\" : \" disabled\";\n        const canNext = (this.state.nextContent.length && !this.state.loading) ? \"\" : \" disabled\";\n        return (\n            <div className=\"m-4\">\n                {this.renderTable()}\n                <div className=\"text-center row mt-2\">\n                    <div className=\"col text-right\">\n                        <button type=\"button\" className={buttonClass + canPrevious} onClick={this.handlePrevious}>\n                            Previous\n                        </button>\n                    </div>\n                    <div className=\"col align-middle\">\n                        <p>\n                            {this.state.page}\n                        </p>\n                    </div>\n                    <div className=\"col text-left\">\n                        <button type=\"button\" className={buttonClass + canNext} onClick={this.handleNext}>\n                            Next\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Table;"],"mappings":"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"},"metadata":{},"sourceType":"module"}